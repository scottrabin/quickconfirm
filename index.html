<!DOCTYPE html>
<html>
<head>
  <title>quickConfirm : jQuery Plugin Demonstration</title>
  
  <!-- jQuery -->
  <script type="text/javascript" src="http://code.jquery.com/jquery-git.js"></script>
  <!-- Syntax Highlighter has a problem with 1.7.1; temporarily switching to jquery nightly until 1.7.2 is out -->
  <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js"></script>-->
  <!-- plugin -->
  <script type="text/javascript" src="./js/jquery.quickconfirm.js"></script>

  <!-- syntax highlighting -->
  <script type="text/javascript" src="./js/shCore.js"></script>
  <script type="text/javascript" src="./js/shBrushJScript.js"></script>
  <link href="./css/shCore.css" rel="stylesheet" type="text/css" />
  <link href="./css/shThemeDefault.css" rel="stylesheet" type="text/css" />

  <!-- underscore -->
  <script type="text/javascript" src="./js/underscore-min.js"></script>

  <!-- demo -->
  <script type="text/javascript">
	function unesc( str ){
	    var tmp = document.createElement('div');
	    tmp.innerHTML = str;
	    var result = tmp.childNodes[0].nodeValue;
	    tmp.removeChild( tmp.firstChild );
	    return result;
	}
	$(function(){
      $('body')
        .on('click', '.clickquick', function(){
          $(this).quickConfirm();
        });

      $('[rel]').each(function(){
        var code = $( $(this).attr('rel') );
        if( code.length > 0 ){
          code = unesc(code[0].innerHTML);
          $(this).bind( 'click', function() {
            eval( code );
          });
        }
      });
	});

	$(function(){ SyntaxHighlighter.all(); });
  </script>

  <style type="text/css">
	/* demo page styling */
	body { margin: 0; padding: 0; }

	#contents {
		width: 800px;
		margin: 0 auto;
		min-height: 100%;
	
		padding-bottom: 30px;
	}

	.center {
		text-align: center;
	}

	.syntaxhighlighter {
	    /* correct irritating scrollbars */
	    padding: 3px;
	    /* border */
	    border: 1px solid #999;
	    border-radius: 5px;
	}

	/* quickConfirm plugin styling */
	.quickConfirm {
		width: 200px;
		padding: 5px;

		border: 1px solid #777;
		border-radius: 5px;

		text-align: center;
		background-color: #fff;
	}

	.blue-border {
		border-color: blue;
	}
  </style>
</head>
<body>

  <div id="contents">
	<h1>quickConfirm Plugin Demonstration</h1>

	<!-- basics -->
	<h3>The Basics</h3>
	<p>The quickConfirm jQuery plugin allows you to unobtrusively ask users for confirmation without disturbing the workflow of your site. It can be attached to any element, positioned as needed, rendered with any content, and works in most browsers.</p>
	<p>The most compact call to jQuery.quickConfirm requires a <code>contents</code> attribute. Try it out on the button below:</p>

	<div class="center">
	  <button id="compact-trigger" rel="#compact">Try quickConfirm!</button>
	</div>
	<pre class="brush: js" id="compact">
	  $('#compact-trigger').quickConfirm({
        contents : {
	      text : "This dialog has all default options enabled."
	    }
	  });
	</pre>
	<!-- end basics -->

	<!-- dynamic styles -->
	<h3>No Pre-Defined Styles</h3>
	<p>Many jQuery plugins require attaching a stylesheet to your site to provide basic functionality for the plugin elements. quickConfirm does not require any external stylesheet; instead of providing a default set of styles that will likely need to be customized, quickConfirm uses computed styles to appropriately style itself. It can easily adjust to global stylesheets or per-element custom styles with a minimum of effort.</p>

	<div class="center">
	  <button id="blue-border-trigger" rel="#blue-border">Blue Border</button>
	</div>
	<pre class="brush: js" id="blue-border">
	  $('#blue-border-trigger').quickConfirm({
        className : 'blue-border',
        contents : "The global stylesheet applies a blue border to the " +
                   "dialog element; notice how the arrow is also blue."
	  });
	</pre>

	<div class="center">
	  <button id="green-border-trigger" rel="#green-border">Green Border</button>
	</div>
	<pre class="brush: js" id="green-border">
	  $('#green-border-trigger').quickConfirm({
	    css : {
	      borderColor : 'green'
	    },
	    contents : "CSS declarations can be passed directly to the " +
	               "quickConfirm function to be applied on the element."
	    });
	</pre>
	<!-- end dynamic styles -->

	<!-- positioning -->
	<h3>Positioning</h3>
	<p>quickConfirm elements can be rendered on <code>top</code> or <code>bottom</code> of, or to the <code>left</code> or <code>right</code> of, any triggering element.</p>
	
	<div class="center">
	  <button id="left-of-trigger" rel="#left-of" style="float: right;">On The Left</button>
	  <button id="right-of-trigger" rel="#right-of" style="float: left;">On The Right</button>
	  <button id="top-of-trigger" rel="#top-of">On Top Of</button>
	</div>
	<pre class="brush: js" id="top-of">
	  $('#top-of-trigger').quickConfirm({
	    position : 'top',
	    contents : 'This dialog is rendered on the top'
	  });
	</pre>
	<pre class="brush: js" id="right-of">
	  $('#right-of-trigger').quickConfirm({
	    position : 'right',
        contents : 'This dialog is rendered on the right'
	  });
	</pre>
	<pre class="brush: js" id="left-of">
	  $('#left-of-trigger').quickConfirm({
	    position : 'left',
        contents : 'This dialog is rendered on the left'
	  });
	</pre>
	<!-- end positioning -->

	<!-- arrows -->
	<h3>Arrow Properties</h3>
	<p>The all-CSS arrow has <code>width</code> and <code>height</code> properties that can be customized to suit your needs.</p>
	<div class="center">
	  <button id="tall-arrow-trigger" rel="#tall-arrow">A Tall Arrow</button>
	</div>
	<pre class="brush: js" id="tall-arrow">
	  $('#tall-arrow-trigger').quickConfirm({
	    arrow : {
	      height : 20
	    },
	    contents : "This dialog has a very tall arrow."
	  });
	</pre>
	<!-- end arrows -->

	<!-- templating -->
	<h3>Dialog Contents and Templates</h3>
	<p>A true confirmation dialog should offer two form controls: a "proceed" button, and a "cancel" button. The quickConfirm plugin offers a default template that will render a small set of parameters passed in <code>contents</code> with such form controls:</p>

	<div class="center">
	  <button id="content-template-trigger" rel="#content-template">Templated Contents</button>
	</div>
	<pre class="brush: js" id="content-template">
	  $('#content-template-trigger').quickConfirm({
	    contents : {
	      text : "This is the template text.",
	      proceed : "Go",
	      cancel : "Nope"
	    }
	  });
	</pre>

	<p>The templating system is completely customizable; the default template can be changed (using <code>{{variableName}}</code> to indicate insertion points for object properties), replacing property names or rendering an entirely different template.</p>
	<div class="center">
	  <button id="modified-template-trigger" rel="#modified-template">Modified Template</button>
	</div>
	<pre class="brush: js" id="modified-template">
	  $('#modified-template-trigger').quickConfirm({
	    template : '&lt;span style="color: red;"&gt;{{question}}&lt;/span&gt;' +
	               '&lt;a href="#" style="display: block;" onclick="$(this).quickConfirm(\'cancel\'); return false;"&gt;{{no}}&lt;/a&gt;' +
	               '&lt;a href="#" style="display: block;" onclick="$(this).quickConfirm(\'proceed\'); return false;"&gt;{{go}}&lt;/a&gt;',
	    contents : {
	      question : "Newly rendered text",
	      go : "Proceed is now a link",
	      no : "Close this dialog"
	    }
	  });
	</pre>

	<p>The template rendering function itself can be changed as well - quickConfirm will use the <code>renderTemplate</code> function to generate the inner HTML string from the <code>template</code> if <code>contents</code> is a plain object. <code>renderTemplate</code> takes as parameters <code>(template, object)</code>; this is fully compatible with the template function from Underscore.js, which can be inserted into quickConfirm with little difficulty.</p>
	<div class="center">
	  <button id="underscore-template-trigger" rel="#underscore-template">Underscore Template</button>
	</div>
	<pre class="brush: js" id="underscore-template">
	  $('#underscore-template-trigger').quickConfirm({
	    template : '&lt;span style="display: block;"&gt;&lt;%= underText %&gt;&lt;/span&gt;' + 
	               '&lt;% _.each( list, function( item ){ %&gt;' +
                     '&lt;span&gt;&lt;%= item %&gt;&lt;/span&gt;' +
                   '&lt;% }); %&gt;',
	    renderTemplate : _.template,
	    contents : {
	      underText : 'Underscore.js templates!',
	      list : [1, 2, 'three']
	    }
	  });
	</pre>
	<!-- end templating -->

	<!-- form controls and events -->
	<h3>Dialog Event Handlers</h3>
	<p>Custom event handlers can also be bound to the form in one of two ways. The first is to pass the callback functions as properties on the <code>options</code> parameter:</p>
	<div class="center">
	  <button id="special-proceed-trigger" rel="#special-proceed">Proceed Handler</button>
	</div>
	<pre class="brush: js" id="special-proceed">
	  $('#special-proceed-trigger').quickConfirm({
	    onproceed : function(){
	      alert("Okay.");
	    }
	  });
	</pre>
	<p>Note that overriding the <code>onproceed</code> parameter in the previous example didn't close the dialog when the proceed button was clicked. The default behavior is to close the dialog; overriding callbacks must manually close the dialog.</p>
	<div class="center">
	  <button id="special-cancel-trigger" rel="#special-cancel">Cancel Handler</button>
	</div>
	<pre class="brush: js" id="special-cancel">
	  $('#special-cancel-trigger').quickConfirm({
	    oncancel : function(){
	      alert("The dialog was canceled.");
	      // `this` refers to the quickConfirm dialog element
	      $(this).quickConfirm('close');
	    }
	  });
	</pre>

	<p>The second way to attach event handlers to the quickConfirm dialog is to directly bind callback functions to the <code>proceed</code> and <code>cancel</code> events on the dialog:</p>

	<div class="center">
	  <button id="bind-proceed-trigger" rel="#bind-proceed">Bind Proceed</button>
	</div>
	<pre class="brush: js" id="bind-proceed">
	  // no parameters are passed here
	  $('#bind-proceed-trigger').quickConfirm({});

	  // get the dialog and bind an event to it
	  $('#bind-proceed-trigger').quickConfirm('dialog')
	    .bind( 'proceed', function(){
	      alert("This will still show, and the dialog will still hide. " +
                "The default functions are not overridden here.");
	    });
	</pre>
	<!-- end form controls and events -->

	<!-- closeOnBlur -->
	<h3>Close Behavior</h3>
	<p>All of the previous demonstrations have left the <code>closeOnBlur</code> attribute at the default value of <code>true</code>; this means that clicking anywhere outside the trigger element or the dialog will hide the element. For particularly important dialogs, this behavior can be disabled by setting <code>closeOnBlur</code> to false:</p>

	<div class="center">
	  <button id="force-close-trigger" rel="#force-close">Force Close</button>
	</div>
	<pre class="brush: js" id="force-close">
	  $('#force-close-trigger').quickConfirm({
	    closeOnBlur : false
	  });
	</pre>
	<!-- end closeOnBlur -->
  </div>
</body>
</html>
